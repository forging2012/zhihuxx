
		<!DOCTYPE html>
		<html>
		<head>
		<meta charset="utf-8" />
		<title>KONAMI 的《魂斗罗》（Contra）中角色为什么要「萝莉式屈腿俯卧」？:77095746</title>
		<style>
		body{
		margin:20px 15%
		}
		img {width:60%;
		display:block;
		text-align:center}

		.link{
		margin:20px;
		height:10px
		}
		</style>
		
		</head>
		<body>
		<div id="author">
		
		名字:<a href="https://www.zhihu.com/people/thinkraft">Thinkraft</a> 性别:男<br/>
		<img src="../38528261/thinkraft-77095746/https_04__03__03_pic1.zhimg.com_03_50_03_4ff99cab4_hd.png" width="400" height="500" /><br/>
		介绍:Obsessive-Compulsive-Personality-Disorde<br/>
		<a href="https://www.zhihu.com/question/38528261">问题</a><br/>
		<a href="https://www.zhihu.com/question/38528261/answer/77095746">答案</a>新建于:2015-12-16 08:28:22 PM，更新于2015-12-16 08:32:40 PM

		<br/>
		
		</div>
		<div class="link">
		<a href="2.html" style="float:right">Next下一页</a>
		</div>
				<div>
  跳页: <input type="number" id="page" min="1" max="500" value="3" style="width:100px">
  <input type="submit" onclick="var a=document.getElementById('page').value;location.href=a+'.html' "></div>
		<div id="answer">
		<hr/>
		正文:
		谢邀。<br><br><a data-hash="5edab1e873de44b36d5283dd7d761cb7" href="https://www.zhihu.com/people/5edab1e873de44b36d5283dd7d761cb7" class="member_mention" data-editable="true" data-title="@胜勋" data-hovercard="p$b$5edab1e873de44b36d5283dd7d761cb7">@胜勋</a>的答案说得不错。我这里补充一些额外信息。<br><br><br><br>首先是关于<b>活动块（Sprite）</b>。<br><br>为了最大限度利用资源、提升表现效果，2D卷轴时代的游戏机基本上都是背景+活动块+色盘的设计，我以前在<a href="https://www.zhihu.com/question/31133351/answer/50990835" class="internal">拳皇中的人物变色是如何实现的？ - Thinkraft 的回答</a>中提到过MVS的实现，这里说说FC的。<br><br><b>由于PPU机能限制，</b><b>FC每个水平扫描行只能显示8个</b><b>活动块</b>。<br><br>FC的PPU运行频率是5.36MHz，输出256*240@60Hz画面。具体原理在<a href="https://link.zhihu.com/?target=http%3A//wiki.nesdev.com/w/index.php/PPU_rendering" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">wiki.nesdev.com/w/index</span><span class="invisible">.php/PPU_rendering</span><span class="ellipsis"></span><i class="icon-external"></i></a>有很详细的介绍，我这里简单总结一下：<br>每秒60帧，每帧渲染262行（其中240行输出可见图像，其余空闲时间用于写入显存数据），每渲染一行使用341个PPU cycle。其中每个背景块需要8个cycle处理；每行有32个背景块（256/8），因此光是背景处理就需要256个cycle；此外每个活动块也需要8个cycle处理，再扣掉预读下一行数据的时间，最后结果就是设计上只允许显示8个活动块。<br>（参见<a href="https://link.zhihu.com/?target=http%3A//wiki.nesdev.com/w/index.php/File%3ANtsc_timing.png" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">wiki.nesdev.com/w/index</span><span class="invisible">.php/File:Ntsc_timing.png</span><span class="ellipsis"></span><i class="icon-external"></i></a>）<br><br>如果游戏在同一扫描线上存在超过8个活动块，多余的将不会被显示。<br>一个可行的解决方案是利用人眼视觉暂留效果，使用Flicker（闪烁），即轮流显示这些活动块——同一帧内的静态图像还是只有8个，动起来就能看到全部了。<br><b>程序员必须手动实现Sprite优先级的调整</b>，以保证游戏效果——如果敌人的子弹总是隐形的，玩家就要摔手柄了。<br><br>除了同屏活动块总数限制（64个）、同扫描行显示限制（8个）之外，还有一个重要限制是Palette（色盘）。<br><img xx="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='256'%20height='76'&gt;&lt;/svg&gt;" data-rawwidth="256" data-rawheight="76" class="content_image lazy" width="256" data-actualxx="https://pic1.zhimg.com/50/1b6b58d49a57cfb92f9751ec35fa91cc_hd.png">FC定义了64个系统颜色，去掉不可用的和重复的是53个（也有说法是54或55）。所谓色盘，就是从这53个颜色中挑出4个，编上号，供图块使用，也就是说FC的每个色盘只有4色——实际上是3色，因为背景块的0号色必须是通用背景色，而活动块的0号色必须是透明。系统支持4个背景块色盘和4个活动块色盘。<br><br>每个活动块只能使用一个色盘。换句话说，<b>单个活动块只能显示3种颜色</b>。<br><br>那么，来看看FC魂斗罗的图片吧（素材取自<a href="https://link.zhihu.com/?target=http%3A//www.sprites-unlimited.com/game/%3Fcode%3Dcontra" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://www.</span><span class="visible">sprites-unlimited.com/g</span><span class="invisible">ame/?code=contra</span><span class="ellipsis"></span><i class="icon-external"></i></a>，背景色被我处理成粉色）：<br><img xx="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='256'%20height='128'&gt;&lt;/svg&gt;" data-rawwidth="256" data-rawheight="128" class="content_image lazy" width="256" data-actualxx="https://pic3.zhimg.com/50/252c89fff8979c32d002c8df94c7c326_hd.png"><br>这个趴姿射击的图片，尺寸是32*16，总共用到了8个8*8的活动块（或者4个8*16，这里暂且认为是前者）。你可以清晰地看到，左半的4个活动块和右半使用了不同色盘，导致<b>上臂部分都变色了</b>。<br><br>由于枪伸出太多，光是上半身就占用了一大半宽度。如果把腿放平，最少也要再加一个活动块才可以。<br><br>再看看主角死亡时的图片：<br><img xx="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='256'%20height='128'&gt;&lt;/svg&gt;" data-rawwidth="256" data-rawheight="128" class="content_image lazy" width="256" data-actualxx="https://pic4.zhimg.com/50/75cd3ace1a6e1dacbc550bcaa960d6fb_hd.png"><br>注意裤腰的位置，上半身只占了一小半宽度。于是这次终于有一条腿可以伸平了。另一条腿弯着可能是多少想显得立体一些吧。<br><br><br>总之，我的结论和 <a data-hash="5edab1e873de44b36d5283dd7d761cb7" href="https://www.zhihu.com/people/5edab1e873de44b36d5283dd7d761cb7" class="member_mention" data-editable="true" data-title="@胜勋" data-hovercard="p$b$5edab1e873de44b36d5283dd7d761cb7">@胜勋</a> 是相同的：<b>就FC魂斗罗而言，趴姿屈腿是为了节省活动块，不蹲是因为蹲下躲不过子弹</b>。<br><br>——所以你看，这是画风问题（大误）。<br><img xx="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='230'%20height='130'&gt;&lt;/svg&gt;" data-rawwidth="230" data-rawheight="130" class="content_image lazy" width="230" data-actualxx="https://pic1.zhimg.com/50/b02e5b99c056cc2afe1167fda7f04e04_hd.png"><br><br><br><br><br>然后再说说题主编辑的关于<b>角色尺寸</b>的疑问「测量了一下发现人物卧姿长度有36个像素」。这个追问其实根本就是无效的——我这里严重怀疑题主的模拟器截图精确性，比如不小心拉伸了一下窗口导致画面变形之类的。<br><br>FC超级魂斗罗图片素材参照<a href="https://link.zhihu.com/?target=http%3A//www.spriters-resource.com/nes/superc/sheet/12076/" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://www.</span><span class="visible">spriters-resource.com/n</span><span class="invisible">es/superc/sheet/12076/</span><span class="ellipsis"></span><i class="icon-external"></i></a>：<br><img xx="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='256'%20height='128'&gt;&lt;/svg&gt;" data-rawwidth="256" data-rawheight="128" class="content_image lazy" width="256" data-actualxx="https://pic1.zhimg.com/50/791679578bda03a1e7de554b2a6c6b20_hd.png"><br>续作中重绘了角色动作，下半身的取色也被调整了。然而整体宽度依然是32像素（4*2个活动块）。<br><br><br><br><br><br>最后，问题并没有完全解决。因为以上说的都是FC版（1988）的情况，而<b>魂斗罗原作是街机游戏（1987）</b>。<br><br>如图，原作中的趴下也是屈腿。<br><img xx="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='224'%20height='280'&gt;&lt;/svg&gt;" data-rawwidth="224" data-rawheight="280" class="content_image lazy" width="224" data-actualxx="https://pic1.zhimg.com/50/6c25e3230b10cdc35e8dabe6663e858c_hd.png"><br><br>本来想回答得更确切一些，但我并没有找到明确靠谱的关于这个机台的硬件信息。考虑到当年的游戏机画面原理大同小异，只是性能的区别（例如后来的MVS，同一水平线支持96个宽度为16像素的活动块），这个屈腿动作应该也是相同的原因。<br><br>上图中角色的宽度是48像素，正好是8（或16）的整数倍。<br><br><br>大概就说这么多吧~
		</div>
		<div class="link">
		<a href="2.html" style="float:right">Next下一页</a>
		</div>
				<div>
  跳页: <input type="number" id="page" min="1" max="500" value="3" style="width:100px">
  <input type="submit" onclick="var a=document.getElementById('page').value;location.href=a+'.html' "></div>
		</body>
		</html>
		